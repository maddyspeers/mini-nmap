import socket

def scan_port(ip, port):
    try:
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(1)  # short timeout
        result = sock.connect_ex((ip, port))
        sock.close()
        return result == 0
    except:
        return False

def scan_ports(ip, start=1, end=1024):
    risky_ports = {23: "Telnet", 21: "FTP", 110: "POP3"}
    common_services = {
        22: "SSH", 80: "HTTP", 443: "HTTPS", 25: "SMTP", 53: "DNS"
    }

    print(f"Scanning {ip} from port {start} to {end}...\n")
    for port in range(start, end + 1):
        if scan_port(ip, port):
            service = common_services.get(port, "Unknown")
            risk = "RISK" if port in risky_ports else "OPEN"
            print(f"[{risk}] Port {port} - {service}")

# Example usage
target_ip = "127.0.0.1"
scan_ports(target_ip, 1, 1024)

